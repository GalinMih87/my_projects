<!DOCTYPE html>
<html>
<head>
    <title>Калкулатор за настояща стойност на бъдещи плащания</title>
</head>
<body>
    <h1>Калкулатор за настояща стойност на бъдещи плащани</h1>
    <form id="presentValueForm">
        <label for="cashFlow">Периодично плащане:</label>
        <input type="number" id="cashFlow" required><br><br>

        <label for="annualInterest">Годишна лихва (%):</label>
        <input type="number" id="annualInterest" required><br><br>

        <label for="period">Период (години):</label>
        <input type="number" id="period" required><br><br>

        <button type="button" onclick="calculatePresentValue()">Изчисли</button>
    </form>

    <h2>Резултат:</h2>
    <p id="result"></p>

    <script>
        function calculatePresentValue() {
            // Вземане на въведените стойности от формата
            var cashFlow = parseFloat(document.getElementById("cashFlow").value);
            var annualInterest = parseFloat(document.getElementById("annualInterest").value);
            var period = parseInt(document.getElementById("period").value);

            // Преобразуване на годишната лихва в десетичен вид
            var interestRate = annualInterest / 100;

            // Изчисление на броя на периодичните плащания
            var totalPayments = period;

            // Изчисление на настоящата стойност на анюитета
            var presentValue = 0;
            for (var i = 1; i <= totalPayments; i++) {
                presentValue += cashFlow / Math.pow(1 + interestRate, i);
            }

            // Показване на резултата
            var resultElement = document.getElementById("result");
            resultElement.innerHTML = `Наcтоящата стойност на ${period} плащания по ${cashFlow} за период от ${period} години ще бъде: ${presentValue.toFixed(2)}`;
        }
    </script>
</body>
</html>
